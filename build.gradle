apply from: 'http://plugins.jasoft.fi/vaadin.plugin'
apply plugin: 'eclipse-wtp'
apply plugin: 'maven'

group = 'fi.jasoft'
version = project.hasProperty('BUILD_VERSION') ? getProperty('BUILD_VERSION') : 'development';
sourceCompatibility = 1.6
targetCompatibility = 1.6

vaadin {
	widgetset 'fi.jasoft.simplecalendar.SimpleCalendarWidgetset'
	manageWidgetset false
	
	addon {
		title 'SimpleCalendar'
		license 'Apache 2.0'
		author 'John Ahlroos'
	}		
}

jar{
	// JAR filename
	baseName = 'simplecalendar'

	// Include sources
	from sourceSets.main.allJava
}

war {
    // WAR filename
    archiveName = 'SimpleCalendar.war'
    
    // Include widgetset
    dependsOn test, widgetset
    
    // Exclude unneccessery GWT Compiler artifacts
    exclude "VAADIN/gwt-unitCache/**"
    
    // Add sources
    webInf{
        into('classes'){
            from sourceSets.main.allJava
        }
    }
}
